<html>

<head>

    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300&display=swap" rel="stylesheet">

    <style>
        body {
            background-image: url(imgs/bg.png);
        }

        header {
            color: rgb(214, 40, 40);
            font-family: 'Merriweather', serif;
            margin: auto;
            margin-bottom: 30px;
            text-align: center;
            width: 300px;
        }

        #title {
            font-family: 'Pacifico', cursive;
            margin-bottom: -10px;
        }

        #color-palette {
            /* <nav> */
            margin: auto;
            text-align: center;
            width: 650px;

        }

        .color {
            border: 1px solid black;
            display: inline-block;
            height: 90px;
            width: 90px;
        }

        #size-wrapper {
            height: 30px;
            margin: auto;
            margin-top: 3px;
            text-align: center;
            width: 500px;
        }

        /* Mudar o tamanho do quadro */
        #board-size {
            border: 1px solid rgb(199, 191, 149);
            border-radius: 15px 0 0 15px;
            color: rgb(199, 191, 149);
            font-family: Verdana;
            font-size: 15px;
            margin-top: 0;
            padding-top: 2px;
            width: 300px;
            box-shadow: 0px 5px 5px rgba(199, 191, 149, 50%);

        }

        ::placeholder {
            color: rgb(199, 191, 149);
        }

        #generate-board {
            border: 1px solid rgb(199, 191, 149);
            border-radius: 0 10px 10px 0;
            background-color: white;
            color: rgb(199, 191, 149);
            cursor: pointer;
            display: inline-block;
            font-family: Verdana, serif;
            height: 19px;
            margin-top: 0;
            padding-top: 1px;
            text-align: center;
            width: 70px;
        }

        /*Limpar o quadro */
        #clear-board {
            border: 1px solid rgb(199, 191, 149);
            border-radius: 15px;
            color: rgb(199, 191, 149);
            cursor: pointer;
            font-family: Verdana;
            font-size: 20px;
            margin: auto;
            margin-top: 5px;
            text-align: center;
            text-transform: uppercase;
            width: 140px;
        }

        /* Tabela de pixels */
        table {
            margin: auto;
            margin-top: 15px;
            border-spacing: 0;
            border-collapse: collapse;
        }

        td {
            border: 1px solid black;
            width: 40px;
            height: 40px;
            background-color: white;
        }
    </style>
</head>

<body>

    <header>
        <h1 id="title">Paleta de Cores</h1>
        <p>Crie seu pixel art abaixo!</p>
    </header>

    <nav id="color-palette">
        <!-- Não pode ter cor branca -->
        <div class="color" id="black"></div>
        <div class="color" id="red"></div>
        <div class="color" id="yellow"></div>
        <div class="color" id="gray"></div>
    </nav>

    <!-- Seção de Customização -->
    <section>
        <div id="size-wrapper">
            <input id="board-size" type="number" placeholder="TAMANHO DO QUADRO" min="0" max="50" />
            <p id="generate-board">#VQV</p>
        </div>

        <p id="clear-board">Limpar</p>
    </section>

    <section>
        <table id="pixel-board">
            <tr>
                <!-- LINHA 1-->
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
            </tr>
            <tr>
                <!-- LINHA 2-->
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
            </tr>
            <tr>
                <!-- LINHA 3-->
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
            </tr>
            <tr>
                <!-- LINHA 4-->
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
            </tr>
            <tr>
                <!-- LINHA 5-->
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
                <td class="pixel"></td>
            </tr>
        </table>
    </section>

    <script type="text/javascript">
        // Selecionar e colocar as cores no background dos divs
        let colors = ["black", "rgb(214, 40, 40)", "rgb(252, 191, 73)", "rgb(234, 226, 183)"];


        function setColors(one, two, three, four) {
            let box1 = document.getElementById("black");
            let box2 = document.getElementById("red");
            let box3 = document.getElementById("yellow");
            let box4 = document.getElementById("gray");

            box1.style.backgroundColor = one;
            box2.style.backgroundColor = two;
            box3.style.backgroundColor = three;
            box4.style.backgroundColor = four;
        }

        setColors(colors[0], colors[1], colors[2], colors[3])


        // Pegar a cor clicada
        let chosenColor = colors[0]; // preto já pré-selecionado

        let colorElements = document.getElementsByClassName("color");
        let selectedDiv = colorElements[0];
        colorElements[0].classList.add('selected');

        for (let i = 0; i < colorElements.length; i++) {
            // pegar cada elemento com a id color 
            // adicionar um eventListener nele
            colorElements[i].addEventListener("click", function () {
                chosenColor = colorElements[i].style.backgroundColor;
                selectedDiv.classList.remove('selected');
                selectedDiv = colorElements[i];
                colorElements[i].classList.add('selected');
            });
        }

        // Pintar qualquer pixel com a cor clicada
        let pixelBoxes = document.getElementsByClassName("pixel");

        for (let i = 0; i < pixelBoxes.length; i++) {
            pixelBoxes[i].addEventListener("click", function () {
                pixelBoxes[i].style.backgroundColor = chosenColor;
            });
            // extra pra apagar com o botão direito do mouse!!
            pixelBoxes[i].addEventListener("contextmenu", function () {
                pixelBoxes[i].style.backgroundColor = "white";
                event.preventDefault();
            });
        }

        // Adicionar o botão de limpar
        let limparButton = document.getElementById('clear-board');

        limparButton.addEventListener('click', clear);

        function clear() {
            // Todos os pixelBoxes viram branco de novo.
            for (let i = 0; i < pixelBoxes.length; i++) {
                pixelBoxes[i].style.backgroundColor = 'white';
            }
        }

    </script>
</body>

</html>